<div class="container mt-5">
  <h1 class="text-center mb-4 display-4 fw-bold text-light bg-primary p-3 shadow-lg">
    <i class="bi bi-truck"></i> Partenaire de Livraison
  </h1>

  <!-- Section : Coordination des enlèvements -->
  <div class="card mb-4 shadow-lg border-0">
    <div class="card-header bg-primary text-white py-3">
      <h2 class="h4 mb-0 fw-bold">
        <i class="bi bi-calendar-event me-2"></i> Coordination des enlèvements
      </h2>
    </div>
    <div class="card-body p-4">
      <p class="lead text-muted">Planifier et gérer l'enlèvement des produits chez les artisans.</p>
      <div class="mb-3">
        <label for="pickupDate" class="form-label fw-bold" [(ngModel)]="pickupDate">Date d'enlèvement</label>
        <input type="date" class="form-control form-control-lg" id="pickupDate" [(ngModel)]="pickupDate"
          name="pickupDate">
      </div>
      <div class="mb-3">
        <label for="artisanList" class="form-label fw-bold">Liste des artisans</label>
        <select class="form-select form-select-lg" id="artisanList" [(ngModel)]="selectedArtisan" name="artisanList">
          <option selected disabled>Sélectionnez un artisan</option>
          <option *ngFor="let artisan of artisans" [value]="artisan.id">{{ artisan.name }}</option>
        </select>
      </div>
      <button class="btn btn-success btn-lg w-100 fw-bold" (click)="schedulePickup(pickupDate)">
        <i class="bi bi-check-circle me-2"></i> Planifier l'enlèvement
      </button>
    </div>
  </div>

  <!-- Section : Mise à jour du statut de livraison -->
  <div class="card mb-4 shadow-lg border-0">
    <div class="card-header bg-warning text-dark py-3">
      <h2 class="h4 mb-0 fw-bold">
        <i class="bi bi-clipboard-data me-2"></i> Mise à jour du statut de livraison
      </h2>
    </div>
    <div class="card-body p-4">
      <p class="lead text-muted">Informer les clients de l'avancement de la livraison.</p>
      <div class="mb-3">
        <label for="orderId" class="form-label fw-bold">Numéro de commande</label>
        <input type="text" class="form-control form-control-lg" id="orderId" [(ngModel)]="orderId" name="orderId"
          placeholder="Entrez le numéro de commande">
      </div>
     
      <div class="mb-3">
        <label for="statusUpdate" class="form-label fw-bold">Statut de la livraison</label>
        <select class="form-select form-select-lg" id="statusUpdate" [(ngModel)]="selectedStatus" name="statusUpdate">
          <option selected disabled>Sélectionnez un statut</option>
          <option value="En attente">En attente</option>
          <option value="En cours de livraison">En cours de livraison</option>
          <option value="Livrée">Livrée</option>
        </select>
      </div>
      <button class="btn btn-primary btn-lg w-100 fw-bold" (click)="updateDeliveryStatus(orderId)">
        <i class="bi bi-arrow-repeat me-2"></i> Mettre à jour le statut
      </button>
    </div>
  </div>

  <!-- Section : Suivi des livraisons -->
  <div class="card mb-4 shadow-lg border-0">
    <div class="card-header bg-info text-white py-3">
      <h2 class="h4 mb-0 fw-bold">
        <i class="bi bi-list-task me-2"></i> Suivi des livraisons
      </h2>
    </div>
    <div class="card-body p-4">
      <p class="lead text-muted">Voir les commandes en attente ou en cours de livraison.</p>
      <div class="table-responsive">
        <table class="table table-hover table-striped">
          <thead class="table-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Numéro de commande</th>
              <th scope="col">Statut</th>
              <th scope="col">Date de mise à jour </th>
              <th scope="col">Date d'enlèvement</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let order of orders; let i = index">
              <th scope="row">{{ i + 1 }}</th>
              <td>{{ order.orderId }}</td>
              <td>
                <span [ngClass]="{
                    'badge bg-warning': order.statut === 'En attente',
                    'badge bg-primary': order.statut === 'En cours de livraison',
                    'badge bg-success': order.statut === 'Livrée'
                  }">
                  {{ order.statut }}
                </span>
               
              </td>
              <td>{{ updateStatus [order.orderId]}}</td>
              <td>{{ order.pickupDate | date }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>